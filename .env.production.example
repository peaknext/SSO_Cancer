# =============================================================================
# SSO Cancer Care — Production Environment Variables
# =============================================================================
# Copy this file to .env.production and fill in all values

# ─── Database ────────────────────────────────────────────────────────────────
# Option A: Use the bundled PostgreSQL (docker-compose.deploy.yml includes db service)
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=sso_cancer
POSTGRES_USER=postgres
# DATABASE_URL is auto-constructed in docker-compose.deploy.yml from the above

# Option B: Use hospital's existing PostgreSQL (comment out Option A, uncomment below)
# DATABASE_URL=postgresql://sso_user:CHANGE_ME@hospital-db-host:5432/sso_cancer?schema=public

# ─── JWT Secrets (generate with: openssl rand -hex 32) ───────────────────────
JWT_SECRET=CHANGE_ME
JWT_REFRESH_SECRET=CHANGE_ME

# ─── Application ─────────────────────────────────────────────────────────────
# CORS (same origin via nginx, set to your hostname)
CORS_ORIGIN=https://sso-cancer.hospital.local

# ─── Security ────────────────────────────────────────────────────────────────
MAX_FAILED_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_SECONDS=900
MAX_CONCURRENT_SESSIONS=5
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=7d
PASSWORD_HISTORY_COUNT=5

# ─── Optional: Custom ports (default 80/443) ────────────────────────────────
# NGINX_HTTP_PORT=80
# NGINX_HTTPS_PORT=443

# ─── Optional: Docker image settings ──────────────────────────────────────
IMAGE_TAG=latest
IMAGE_REGISTRY=peaknext/
